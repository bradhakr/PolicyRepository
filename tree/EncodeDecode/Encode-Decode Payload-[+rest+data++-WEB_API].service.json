{
  "goid": "4259b6831bdff2b134949fe34e78e96b",
  "guid": "edb4a557-c4de-44e5-ae94-e68324c390cc",
  "name": "Encode-Decode Payload",
  "resolutionPath": "/rest/data/*",
  "serviceType": "WEB_API",
  "checksum": "06c3f8fb1df32c629ad5089725fc0891df468f1c",
  "enabled": true,
  "folderPath": "/EncodeDecode",
  "methodsAllowed": [
    "POST"
  ],
  "tracingEnabled": false,
  "wssProcessingEnabled": false,
  "laxResolution": false,
  "policy": {
    "json": "{\"All\":[{\"Comment\":\"************************************************************\"},{\"Comment\":\"API :- Encode-Decode Proxy\"},{\"Comment\":\"API Group :- REST Encryption\"},{\"Comment\":\"API TYPE :- REST\"},{\"Comment\":\"Author: Balaji Radhakrishnan\"},{\"Comment\":\"************************************************************\"},{\"All\":[{\"SetVariable\":{\"expression\":\"${request.mainpart}\",\"variable\":\"encodedData\"}},{\"SetVariable\":{\"expression\":\"${request.url.path}\",\"variable\":\"operation\"}},{\"SetVariable\":{\"expression\":\"\",\"variable\":\"respData\"}},{\"SetVariable\":{\"expression\":\"\",\"variable\":\"OpnData\"}},{\"SetVariable\":{\"expression\":\"200\",\"variable\":\"respCode\"}},{\"OneOrMore\":[{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${operation}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"operator\":\"CONTAINS\",\"rightValue\":\"encode\"}]}},{\"SetVariable\":{\"expression\":\"${request.http.header.encodeAlg}\",\"variable\":\"encodeAlg\"}},{\"OneOrMore\":[{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${encodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base64\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"BASE64_ENCODE\"}}]},{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${encodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base32\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"BASE32_ENCODE\"}}]},{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${encodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base16\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"HEX_ENCODE\"}}]},{\"All\":[{\"SetVariable\":{\"expression\":\"Unable to decide on Operation\",\"variable\":\"OpnData\"}},{\"SetVariable\":{\"expression\":\"400\",\"variable\":\"respCode\"}},{\"SetVariable\":{\"expression\":\"{\\r\\n   \\\"Request\\\": \\\"${encodedData}\\\",\\r\\n   \\\"Action\\\": \\\"Invalid Algorithm\\\",\\r\\n   \\\"Response\\\": \\\"Unable to Encode the Given Data\\\" \\r\\n\\r\\n}\",\"variable\":\"respData\"}}]}]},{\"All\":[{\"SetVariable\":{\"expression\":\"200\",\"variable\":\"respCode\"}},{\"SetVariable\":{\"expression\":\"{\\r\\n   \\\"Request\\\": \\\"${encodedData}\\\",\\r\\n   \\\"Action\\\": \\\"Encode Operation\\\",\\r\\n   \\\"Response\\\": \\\"${OpnData}\\\" \\r\\n\\r\\n}\",\"variable\":\"respData\"}}]}]},{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${operation}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"operator\":\"CONTAINS\",\"rightValue\":\"decode\"}]}},{\"SetVariable\":{\"expression\":\"${request.http.header.decodeAlg}\",\"variable\":\"decodeAlg\"}},{\"OneOrMore\":[{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${decodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base64\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"BASE64_DECODE\"}}]},{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${decodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base32\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"BASE32_DECODE\"}}]},{\"All\":[{\"ComparisonAssertion\":{\"caseSensitive\":false,\"expression1\":\"${decodeAlg}\",\"operator\":null,\"predicates\":[{\".type\":\":dataType\",\"type\":\"string\"},{\".type\":\":binary\",\"caseSensitive\":false,\"rightValue\":\"base16\"}]}},{\"EncodeDecode\":{\"sourceVariableName\":\"request.mainpart\",\"targetDataType\":\"string\",\"targetVariableName\":\"OpnData\",\"transformType\":\"HEX_DECODE\"}}]},{\"All\":[{\"SetVariable\":{\"expression\":\"Unable to decide on Operation\",\"variable\":\"OpnData\"}},{\"SetVariable\":{\"expression\":\"400\",\"variable\":\"respCode\"}},{\"SetVariable\":{\"expression\":\"{\\r\\n   \\\"Request\\\": \\\"${encodedData}\\\",\\r\\n   \\\"Action\\\": \\\"Invalid Algorithm\\\",\\r\\n   \\\"Response\\\": \\\"Unable to Decode the Given Data\\\" \\r\\n\\r\\n}\",\"variable\":\"respData\"}}]}]},{\"All\":[{\"SetVariable\":{\"expression\":\"200\",\"variable\":\"respCode\"}},{\"SetVariable\":{\"expression\":\"{\\r\\n   \\\"Request\\\": \\\"${encodedData}\\\",\\r\\n   \\\"Action\\\": \\\"Decode Operation\\\",\\r\\n   \\\"Response\\\": \\\"${OpnData}\\\" \\r\\n\\r\\n}\",\"variable\":\"respData\"}}]}]},{\"All\":[{\"SetVariable\":{\"expression\":\"Unable to decide on Operation\",\"variable\":\"OpnData\"}},{\"SetVariable\":{\"expression\":\"400\",\"variable\":\"respCode\"}},{\"SetVariable\":{\"expression\":\"{\\r\\n   \\\"Request\\\": \\\"${encodedData}\\\",\\r\\n   \\\"Action\\\": \\\"Invalid Operation\\\",\\r\\n   \\\"Response\\\": \\\"${OpnData}\\\" \\r\\n\\r\\n}\",\"variable\":\"respData\"}}]}]}]},{\"HardcodedResponse\":{\"body\":\"${respData}\",\"contentType\":\"applicationt/json; charset=UTF-8\",\"status\":\"${respCode}\"}}]}"
  }
}